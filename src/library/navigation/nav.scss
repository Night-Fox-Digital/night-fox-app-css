.account-switch-open .account-switch{z-index:1000; opacity:1; pointer-events:auto;}

header{z-index:1001; position:fixed; display:table; left:0px; top:0px; width:$header-width; height:100vh; background:$brand-color;}
header .logo-or-hamburger-container{position:absolute; top:15px; left:15px; text-align:center; width:50px;}
header .logo-or-hamburger-container .hamburger{display:none;}
header .logo-or-hamburger-container a{display:block; color:$header-text-color; font-size:50px; text-align:center; margin-top:4px;}
header .logo-or-hamburger-container a:hover{transform:scale(1.05);}
header .logo-or-hamburger-container img{display:inline-block; margin:5px auto -4px auto; width:100%;}
header .links{display:table-cell; vertical-align:middle; text-align:center; padding:25px 0px; width:$header-width;}
header .links .link{display:block; padding-top:15px; width:100%;}
header .links .link:first-of-type{margin-top:0px;}
header .links a{position:relative; display:inline-block; width:55px; height:55px; line-height:57.5px; color:$header-text-color; text-align:center; font-size:20px; background:rgba(0,0,0,0.15); border-radius:$border-radius;}
header .links a .hover-title{position:absolute; top:16.5px; left:calc(100% + 5px); width:100px; height:22.5px; line-height:23.5px; display:inline-block; white-space:nowrap; background:$primary-color; border-radius:$border-radius; color:$inverse-color; font-size:10px; font-weight:600; opacity:0; pointer-events:none; transition:$fast-transition;}
header .links a .hover-title::after{z-index:-1; content:''; position:absolute; left:-2.5px; top:calc(50% - 3.75px); width:7.5px; height:7.5px; background:$primary-color; transform:rotate(-45deg);}
header .links a:hover .hover-title{opacity:1;}

@media (max-width:$close-nav-width)
{
    header .logo-or-hamburger-container .hamburger{display:block;}
    header .logo-or-hamburger-container a{display:none;}
}

@media (max-width:$mobile-header-width)
{
    header{left:0px; width:100%; height:$header-width;}
    header .logo-or-hamburger-container{top:10px; left:20px;}
    header .links{width:auto; padding:0px 65px 0px 25px; text-align:right;}
    header .links .link{display:inline-block; padding:0px 5px 0px 0px; width:auto;}
    header .links .link:last-of-type{padding:0px;}
    header .links a{width:35px; height:35px; line-height:37.5px;}
    header .links a .hover-title{top:calc(100% + 5px); left:calc(-50% - 15px);}
    header .links a .hover-title::after{left:calc(50% - 3.75px); top:-2.5px;}
}

@media (max-width:$iphone-width)
{
    header .links a{width:30px; height:30px; line-height:32.5px; font-size:15px;}
    header .links a .hover-title{left:calc(-50% - 20px);}
}

nav{z-index:999; position:fixed; top:0px; left:$header-width; width:$nav-width; background:$inverse-color; transition:$fast-transition;}
nav .links{position:static; text-align:center; padding:25px; height:calc(100vh - 50px); overflow-y:auto; -ms-overflow-style:none;}
nav .links::-webkit-scrollbar{display:none; width:0px; background:transparent;}
nav .links .account{display:block; margin:-25px -25px 0px -25px; text-align:left; color:$primary-color; font-size:14px; padding:25px;}
nav .links .account:hover,
nav .links .account:focus{color:$deep-color;}
nav .links .account .name{font-size:22px; font-weight:600; letter-spacing:-0.5px;}
nav .links .account span{font-size:20px; margin-left:5px; color:transparent; transition:$fast-transition;}
nav .links .account:hover span{color:$primary-color;}
nav .links .link{position:relative; display:block; color:$primary-color; border-radius:$border-radius; font-size:16px; margin:5px auto; padding:13.5px 12.5px; text-align:left; transition:$fast-transition;}
nav .links .link img.spinner{position:absolute; left:13px; top:17px; width:16px; height:16px;}
nav .links .link span{display:inline-block; width:25px; text-align:center; padding-right:5px; font-size:16px; transition:$fast-transition;}
nav .links .link span.pointer{float:right; color:transparent; text-align:right; margin-top:3px;}
nav .links .link span.count{float:right; text-align:center; width:auto; color:$primary-color; background:transparent; border:1px solid $primary-color; border-radius:15px; padding:2.5px 7.5px; font-size:14px; margin-top:-2px;}
nav .links .link.active,
nav .links .link:hover,
nav .links .link:focus{background:$core-bg;}
nav .links .link.active span.pointer,
nav .links .link:hover span.pointer,
nav .links .link:focus span.pointer{color:$primary-color;}
nav .links .link.active span.count,
nav .links .link:hover span.count,
nav .links .link:focus span.count{color:$inverse-color; background:$primary-color;}
nav .links .line{display:block; height:1px; overflow:hidden; background:rgba($primary-color,0.1); margin:20px 0px;}
nav .links .line:first-of-type{margin-top:0px;}
/* DEPLOYMENT SYSTEM-SPECIFIC THINGS */
nav .links .link .deploy-status{display:inline-block; width:18px; height:18px; border-radius:50%; margin-right:10px; margin-top:3px;}
nav .links .link .deploy-title{display:inline-block; text-overflow:ellipsis; overflow:hidden; white-space:nowrap; max-width:195px; font-size:14px; font-family:$accent-font;}

nav .links .nav-title-container{display:table; width:100%; border-bottom:1px solid rgba($primary-color,0.1); margin:25px 0px 5px 0px; color:$primary-color;}
nav .links .nav-title-container .nav-title{display:table-cell; vertical-align:middle; text-align:left; font-weight:700; text-transform:uppercase; font-size:13px;}
nav .links .nav-title-container .nav-title span{margin-right:5px;}

nav .group-links-wrapper{display:block; background:linear-gradient(45deg,$core-bg,rgba($core-bg,0.75)); border-radius:$border-radius; margin-top:-20px;}
nav .links .group-links-wrapper .nav-title-container{border-bottom:0px;}
nav .links .group-links-wrapper .nav-title-container .nav-title{padding:15px 15px 5px 15px;}
nav .links .group-links-wrapper .link{border-radius:0px; margin:0px auto;}
nav .links .group-links-wrapper .link:last-of-type{padding-bottom:20px; border-radius:0px 0px $border-radius $border-radius;}
nav .links .group-links-wrapper .link.active,
nav .links .group-links-wrapper .link:hover,
nav .links .group-links-wrapper .link:focus{background:linear-gradient(90deg,rgba($core-bg,0.95),rgba($deep-color,0.0175));}

.account-switch{opacity:0; pointer-events:none; position:fixed; top:100px; left:$header-width; width:$nav-width; background:$inverse-color; transition:0.15s ease-in-out;}
.account-switch .links{position:static; text-align:center; padding:17px 25px; height:calc(100vh - 150px); overflow-y:auto; -ms-overflow-style:none;}
.account-switch .links::-webkit-scrollbar{display:none; width:0px; background:transparent;}
.account-switch .links .link{position:relative; display:block; color:$primary-color; background:$core-bg; border-radius:$border-radius; font-size:16px; margin:5px auto; padding:12.5px; text-align:left; transition:$fast-transition;}
.account-switch .links .link .title{display:inline-block; text-overflow:ellipsis; overflow:hidden; white-space:nowrap; max-width:207.5px;}
.account-switch .links .link span.pointer{float:right; display:inline-block; color:transparent; text-align:right; margin-top:3px;}
.account-switch .links .link.active,
.account-switch .links .link:hover{background:rgba($core-bg,0.5);}
.account-switch .links .link.active span.pointer,
.account-switch .links .link:hover span.pointer{color:$primary-color;}
.account-switch .links .line{display:block; height:1px; overflow:hidden; background:rgba($primary-color,0.1); margin:25px 0px;}
.account-switch .links .input-container{background:$core-bg; color:$primary-color; font-size:16px; margin-bottom:5px;}
.account-switch .links .input-container .input-box input[type=text]{padding:12.5px;}
.account-switch .title-container .title{font-size:24px;}

@media (max-width:$close-nav-width)
{
    .nav-open nav{left:$header-width;}
    .nav-open .account-switch{opacity:0; pointer-events:none; left:$header-width;}
    .nav-open.account-switch-open .account-switch{opacity:1; pointer-events:auto;}
    nav,
    .account-switch{left:calc($nav-width - calc($nav-width * 2));}
}

@media (max-width:$mobile-header-width)
{
    nav{top:$header-width;}
    .account-switch{top:calc($header-width + 100px);}
    .nav-open nav{left:0px !important;}
    .nav-open .account-switch{opacity:0; pointer-events:none; left:0px !important;}
    .nav-open.account-switch-open .account-switch{opacity:1; pointer-events:auto;}
    nav .links,
    .account-switch .links{height:calc(100vh - 50px - $header-width);}
}

@media (max-width:$iphone-width)
{
    nav,
    .account-switch{width:100%; left:-100%;}
}

.lightswitch{position:absolute; bottom:40px; left:20px; display:block; width:40px;}
.toggle-button{position:relative; width:100%; height:30px; margin:6.5px auto 0 auto; border-radius:15px;}
.toggle-button .hover-title{position:absolute; top:3px; left:calc(100% + 5px); width:100px; height:22.5px; line-height:23.5px; display:inline-block; white-space:nowrap; background:$primary-color; border-radius:$border-radius; color:$inverse-color; font-size:10px; font-weight:600; opacity:0; pointer-events:none; transition:$fast-transition;}
.toggle-button .hover-title::after{z-index:-1; content:''; position:absolute; left:-2.5px; top:calc(50% - 3.75px); width:7.5px; height:7.5px; background:$primary-color; transform:rotate(-45deg);}
.toggle-button:hover .hover-title{opacity:1;}
.toggle-button input[type="checkbox"]{width:100%; height:100%; position:absolute; top:0px; left:0px; right:0px; bottom:0px; margin:0px; cursor:pointer; opacity:0; z-index:2;}
#lightswitch span{position:absolute; top:0px; right:0px; bottom:0px; left:0px; overflow:hidden; opacity:1; background-color:#FFF; border-radius:15px; transition:0.2s ease background-color, 0.2s ease opacity;}
#lightswitch span:before,#lightswitch span:after{content:''; position:absolute; top:5px; width:20px; height:20px; border-radius:50%; transition:0.5s ease transform, 0.2s ease background-color;}
#lightswitch span:before{background-color:#FFF; transform:translate(0px,-50px); z-index:1;}
#lightswitch span:after{background-color:rgb(35, 37, 44); transform:translate(-5px,0px); z-index:0;}
#lightswitch input[type="checkbox"]:checked + span{background-color:rgb(35, 37, 44);}
#lightswitch input[type="checkbox"]:active + span{opacity:0.5;}
#lightswitch input[type="checkbox"]:checked + span:before{background-color:rgb(35, 37, 44); transform:translate(-7px,-6px);}
#lightswitch input[type="checkbox"]:checked + span:after{background-color:#FFF; transform:translate(-15px,0px);}

@media (max-width:$mobile-header-width)
{
    .lightswitch{top:18px; right:20px; bottom:auto; left:auto; text-align:center;}
    .toggle-button:hover .hover-title{display:none;}
}

.core{position:static; margin:0px 0px 0px #{$nav-width + $header-width}; min-height:calc(100vh - 100px); padding:50px; transition:$fast-transition;}
.alert.active + .core{margin:50px 0px 0px #{$nav-width + $header-width}; min-height:calc(100vh - 150px);}

.core.external{padding:0px !important; width:calc(100% - #{$nav-width + $header-width}); height:100vh;}
.core.external iframe{width:100%; height:100vh;}

body.external-iframe-in-use .draft-status-bar{width:100% !important;}
body.external-iframe-in-use .core{margin:0px;}
body.external-iframe-in-use .modal-wrapper{width:100% !important; left:0px !important;}

.draft-status-bar-buffer{position:static; height:80px;}

@media (max-width:$close-nav-width)
{
    .core{margin:0px 0px 0px $header-width;}
    .core.external{width:calc(100% - #{$header-width});}
    .alert.active + .core{margin:50px 0px 0px $header-width; min-height:calc(100vh - 150px);}
}

@media (max-width:$mobile-header-width)
{
    .core,
    .core.external{margin:$header-width 0px 0px 0px; min-height:calc(100vh - 50px - $header-width); padding:25px;}
    .core.external{width:100%;}
    .alert.active + .core{margin:calc(#{$header-width + 50px}) 0px 0px 0px; min-height:calc(100vh - #{$header-width + 50px}); padding:25px;}

    body.external-iframe-in-use .draft-status-bar{bottom:80px;}
}
